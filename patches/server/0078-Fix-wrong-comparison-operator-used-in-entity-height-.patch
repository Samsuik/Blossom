From 22f7898453387c2690aa8ff7ca12f7f150dc972d Mon Sep 17 00:00:00 2001
From: Samsuik <40902469+Samsuik@users.noreply.github.com>
Date: Sat, 1 Jul 2023 22:55:49 +0100
Subject: [PATCH] Fix wrong comparison operator used in entity height nerf


diff --git a/src/main/java/net/minecraft/server/EntityFallingBlock.java b/src/main/java/net/minecraft/server/EntityFallingBlock.java
index 359a00e60..63e50ed4d 100644
--- a/src/main/java/net/minecraft/server/EntityFallingBlock.java
+++ b/src/main/java/net/minecraft/server/EntityFallingBlock.java
@@ -146,7 +146,7 @@ public class EntityFallingBlock extends Entity {
             // PaperSpigot end
 
             // PaperSpigot start - Drop falling blocks above the specified height
-            if (this.world.paperSpigotConfig.fallingBlockHeightNerf != 0 && this.locY > this.world.paperSpigotConfig.fallingBlockHeightNerf) {
+            if (this.world.paperSpigotConfig.fallingBlockHeightNerf != 0 && this.locY >= this.world.paperSpigotConfig.fallingBlockHeightNerf) { // Blossom
                 if (this.dropItem) {
                     this.a(new ItemStack(block, 1, block.getDropData(this.block)), 0.0F);
                 }
diff --git a/src/main/java/net/minecraft/server/EntityTNTPrimed.java b/src/main/java/net/minecraft/server/EntityTNTPrimed.java
index be9bbbe3c..55ee4cfca 100644
--- a/src/main/java/net/minecraft/server/EntityTNTPrimed.java
+++ b/src/main/java/net/minecraft/server/EntityTNTPrimed.java
@@ -118,7 +118,7 @@ public class EntityTNTPrimed extends Entity {
         this.move(this.motX, this.motY, this.motZ);
 
         // PaperSpigot start - Drop TNT entities above the specified height
-        if (this.world.paperSpigotConfig.tntEntityHeightNerf != 0 && this.locY > this.world.paperSpigotConfig.tntEntityHeightNerf) {
+        if (this.world.paperSpigotConfig.tntEntityHeightNerf != 0 && this.locY >= this.world.paperSpigotConfig.tntEntityHeightNerf) { // Blossom
             this.die();
         }
         // PaperSpigot end
-- 
2.40.0.windows.1

